<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>League & Team Stats</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    body{ margin:0; font-family: Inter, system-ui, Segoe UI, Roboto, Arial, sans-serif; background: radial-gradient(1200px 800px at 70% -10%, #0b2030, #0b1118); color:#e9eef5; }
    .wrap{ min-height:100vh; display:flex; align-items:flex-start; justify-content:center; padding:30px; }
    .card{ width:min(1300px,96vw); background: linear-gradient(180deg, rgba(255,255,255,0.14), rgba(255,255,255,0.08)); border:1px solid #ffffff22; border-radius:20px; box-shadow: 0 10px 30px rgba(0,0,0,.45), inset 0 0 0 1px #ffffff12; backdrop-filter: blur(8px); padding:22px; display:flex; flex-direction:column; gap:16px; }
    .header{ display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap; }
    .title{ font-weight:800; letter-spacing:.4px; font-size:22px; opacity:.95; }
    .btn{ padding:10px 14px; border:none; border-radius:10px; color:#fff; cursor:pointer; background: linear-gradient(90deg, #0078d4, #00eaff); box-shadow: 0 6px 18px rgba(0,0,0,.25); font-weight:700; letter-spacing:.3px; }
    .btn.secondary{ background:#334a5e; }
  .teams{ display:flex; flex-wrap:wrap; gap:10px; }
  .team-btn{ border:1px solid #ffffff22; border-radius:12px; background:#0f1c2b; color:#e9eef5; cursor:pointer; transition:transform .08s ease; }
  .team-btn:hover{ transform: translateY(-1px); }
  .team-btn.active{ outline:2px solid #00eaff99; }
  .team-btn.league{ padding:10px 14px; font-weight:900; letter-spacing:.4px; background:linear-gradient(90deg, #0ea5e9, #22d3ee); color:#0a0f14; border:none; flex-basis:100%; text-align:left; }
  .team-btn.logo{ width:58px; height:58px; padding:6px; display:flex; align-items:center; justify-content:center; background:#0b1623; }
  .team-btn.logo img{ width:100%; height:100%; object-fit:contain; filter: drop-shadow(0 2px 3px rgba(0,0,0,.5)); }
    .tabs{ display:flex; gap:8px; }
    .tab{ padding:8px 12px; border-radius:10px; border:1px solid #ffffff22; background:#0f1c2b; cursor:pointer; }
    .tab.active{ background:linear-gradient(90deg, #0ea5e9, #22d3ee); color:#0a0f14; border:none; }
    .filters{ display:flex; flex-wrap:wrap; gap:8px; }
    .filter{ display:flex; align-items:center; gap:6px; background:#0004; border:1px solid #ffffff22; padding:6px 8px; border-radius:10px; }
    input[type="text"], select{ padding:8px 10px; border-radius:10px; border:1px solid rgba(255,255,255,0.25); background:rgba(0,0,0,0.25); color:#fff; }
  table{ width:100%; border-collapse:separate; border-spacing:0 8px; font-size:14px; }
  thead th{ text-align:left; padding:8px 8px; font-weight:800; color:#e6f0ff; position:sticky; top:0; background:rgba(15,28,43,0.95); border-bottom:1px solid #ffffff22; cursor:pointer; white-space:nowrap; }
  tbody td{ padding:8px 8px; white-space:nowrap; }
    tbody tr{ background:#0004; border:1px solid #ffffff22; }
    tbody tr td:first-child{ border-top-left-radius:10px; border-bottom-left-radius:10px; }
    tbody tr td:last-child{ border-top-right-radius:10px; border-bottom-right-radius:10px; }
    .num{ text-align:right; font-variant-numeric: tabular-nums; }
    /* Responsive table fit */
    @media (max-width: 900px){
      table{ font-size:12px; }
      thead th, tbody td{ padding:6px 6px; }
      .card{ overflow:auto; }
    }
    .muted{ opacity:.8; }
    .hint{ color:#cfe3ff; opacity:.9; }
    /* ESPN-like player modal styles */
    #player-modal-card{ --pm-accent:#1f9cf0; }
    .pm-hero{ position:relative; display:flex; align-items:center; justify-content:space-between; padding:18px 16px; border:1px solid #ffffff22; border-radius:16px; background:linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06)); overflow:hidden; }
    .pm-hero::after{ content:""; position:absolute; inset:-40px -60px auto auto; width:320px; height:320px; background:radial-gradient(closest-side, rgba(255,255,255,0.06), transparent 70%); transform:rotate(35deg); pointer-events:none; }
    .pm-hero-left{ display:flex; align-items:center; gap:14px; z-index:1; }
    .pm-hero-logo{ width:56px; height:56px; border-radius:12px; background:#0b1623; display:flex; align-items:center; justify-content:center; border:1px solid #ffffff22; }
    .pm-hero-logo img{ width:100%; height:100%; object-fit:contain; filter: drop-shadow(0 2px 4px rgba(0,0,0,.6)); }
    .pm-name{ font-weight:900; font-size:26px; line-height:1.1; letter-spacing:.2px; }
    .pm-sub{ color:#cfe3ff; display:flex; align-items:center; gap:8px; }
    .pm-photo{ width:120px; height:120px; border-radius:16px; object-fit:cover; background:#0b1623; border:1px solid #ffffff22; z-index:1; }
    .pm-badges{ display:flex; gap:14px; flex-wrap:wrap; margin-top:8px; }
    .pm-badge{ background:#0006; border:1px solid #ffffff22; border-radius:12px; padding:8px 10px; min-width:90px; text-align:center; }
    .pm-badge .label{ font-weight:700; color:#cfe3ff; }
    .pm-badge .val{ font-weight:900; font-variant-numeric: tabular-nums; }
    .pm-tabs{ display:flex; gap:8px; margin-top:14px; }
    .pm-tab{ padding:8px 12px; border-radius:10px; border:1px solid #ffffff22; background:#0f1c2b; cursor:pointer; font-weight:800; }
    .pm-tab.active{ background:linear-gradient(90deg, #0ea5e9, #22d3ee); color:#0a0f14; border:none; }
    .pm-section{ display:none; margin-top:12px; }
    .pm-section.active{ display:block; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="header">
        <div>
          <div class="title">League & Team Stats</div>
          <div class="hint">Stats are tallied from your Saved Games.</div>
        </div>
        <div class="actions" style="display:flex; gap:8px;">
          <button class="btn secondary" onclick="window.location.href='index.html'">Back</button>
        </div>
      </div>

  <div class="teams" id="team-buttons"></div>

      <div class="tabs">
        <button id="tab-batting" class="tab active">Batting</button>
        <button id="tab-pitching" class="tab">Pitching</button>
      </div>

      <div class="filters" id="filters"></div>

      <div id="table-wrap"></div>
      <!-- Column Filter Modal -->
      <div id="filter-modal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.72);align-items:center;justify-content:center;z-index:1250;">
        <div id="filter-card" style="background:radial-gradient(1200px 800px at 70% -10%, #0b2030, #0b1118);border:1px solid #ffffff22;box-shadow: 0 10px 30px rgba(0,0,0,.45), inset 0 0 0 1px #ffffff12;backdrop-filter:blur(8px);width:min(520px,92vw);max-width:92vw;border-radius:16px;padding:18px;">
          <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;margin-bottom:12px;">
            <div class="title" id="filter-title">Filter</div>
            <button id="filter-close" class="btn secondary">Close</button>
          </div>
          <div id="filter-body" style="display:flex;flex-direction:column;gap:12px;">
            <div class="hint" style="margin-top:-6px;">Choose filter options for this column.</div>
            <div>
              <div style="opacity:.9;font-weight:800;margin-bottom:6px;">Column</div>
              <div id="filter-col-name" style="background:#0004;border:1px solid #ffffff22;border-radius:10px;padding:8px 10px;font-weight:700;"></div>
            </div>
            <div id="filter-num" style="display:none;gap:8px;align-items:center;">
              <label for="filter-op-num" style="min-width:84px;opacity:.9;">Operator</label>
              <select id="filter-op-num" style="flex:0 0 120px;padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,0.25);background:rgba(0,0,0,0.25);color:#fff;">
                <option value=">=">≥</option>
                <option value="<=">≤</option>
                <option value=">">></option>
                <option value="<"><</option>
                <option value="=">=</option>
              </select>
              <label for="filter-val-num" style="min-width:84px;opacity:.9;margin-left:10px;">Value</label>
              <input id="filter-val-num" type="number" step="any" placeholder="e.g. 10" style="flex:1;padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,0.25);background:rgba(0,0,0,0.25);color:#fff;" />
            </div>
            <div id="filter-text" style="display:none;gap:8px;align-items:center;flex-wrap:wrap;">
              <div style="display:flex;align-items:center;gap:8px;flex:1;min-width:260px;">
                <label for="filter-op-text" style="min-width:84px;opacity:.9;">Match</label>
                <select id="filter-op-text" style="flex:0 0 160px;padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,0.25);background:rgba(0,0,0,0.25);color:#fff;">
                  <option value="contains">Contains</option>
                  <option value="equals">Equals</option>
                  <option value="starts">Starts with</option>
                  <option value="ends">Ends with</option>
                  <option value="not">Does not contain</option>
                </select>
              </div>
              <div style="display:flex;align-items:center;gap:8px;flex:1;min-width:260px;">
                <label for="filter-val-text" style="min-width:84px;opacity:.9;">Value</label>
                <input id="filter-val-text" type="text" placeholder="Type to match" style="flex:1;padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,0.25);background:rgba(0,0,0,0.25);color:#fff;" />
              </div>
            </div>
            <div style="display:flex;justify-content:flex-end;gap:8px;margin-top:8px;">
              <button id="filter-clear" class="btn secondary">Clear</button>
              <button id="filter-apply" class="btn">Apply</button>
            </div>
          </div>
        </div>
      </div>
      <!-- Player Detail Modal -->
      <div id="player-modal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.72);align-items:stretch;justify-content:stretch;z-index:1200;">
        <div id="player-modal-card" style="background:radial-gradient(1200px 800px at 70% -10%, #0b2030, #0b1118);border-top:1px solid #ffffff22;box-shadow:inset 0 0 0 1px #ffffff12;backdrop-filter:blur(8px);width:100%;height:100%;overflow:auto;padding:22px;">
          <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;margin-bottom:8px;">
            <div class="title" id="pm-title">Player</div>
            <button id="pm-close" class="btn secondary">Close</button>
          </div>
          <div id="pm-content"></div>
        </div>
      </div>
    </div>
  </div>

  <script src="stats.js"></script>
</body>
</html>
